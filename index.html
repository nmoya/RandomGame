<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel="shortcut icon" href="favicon.ico" />

	<script src='lib/jquery-latest.min.js'></script>
	<script src='lib/easeljs-0.7.1.min.js'></script>
	<script src='lib/notify.min.js'></script>
	<script src='utils/notify.js'></script>
	<script src='character.js'></script>
	<script src="lib/socket.io.js"></script>
</head>
<body style='margin: 5px;'>
	Digite seu nome para começar: <input type='text' id='name' value=''>
	<p align='right' id='online'></p>
	<br><hr>

	<canvas id="mainCanvas" width="100%" height="100%" style="border:1px solid #000000;"></canvas>
	<texto id='canvasCoord'>Zero</texto>
</body>

<!--This takes care of receiving events from the server -->
<script type="text/javascript">
var socket = io.connect('/');

//Receives the messages
socket.on('bcast', function (data) {
	gnotify(data.message, data.type);
});

//Update the online players counter
socket.on('online', function (data) {
	$("#online").html("Online: " + data.online);
});
</script>
<!--END This takes care of receiving events from the server -->

<script type="text/javascript">
	var character = new createCharacter($("#name").val(), 100);


	var canvas = document.getElementById('mainCanvas');
	var context = canvas.getContext('2d');
	context.canvas.width = window.innerWidth-30;
	context.canvas.height = window.innerHeight-60;

	$(document).ready(function() {
		$('#name').change(function(event) {
			character.name = $("#name").val();
			character.life  =  100;
		});

		gnotify("Site ta ficando SUBLIME!", "success");
		gnotify("Facepobre", "info");
		enotify($('#name'), "Funciona para qualquer elemento também", "error");
		

		function loadSprite (filename) {

		}


		canvas.addEventListener('mousemove', function(evt) {
			var rect = canvas.getBoundingClientRect();
			var x = evt.clientX - rect.left;
			var y = evt.clientY - rect.top;
			$("#canvasCoord").html(x +", " + y);
		}, false);


	});





</script>
</html>